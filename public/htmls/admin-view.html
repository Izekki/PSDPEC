<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administración - Solicitudes de Préstamo</title>
    <link rel="stylesheet" href="/css/admin-view.css">
</head>
<body>

        <!-- Modal de confirmación de eliminación -->
    <div id="confirmationModal" class="modal">
        <div class="modal-content">
            <h4>¿Estás seguro de eliminar esta solicitud?</h4>
            <p>Esta acción no se puede deshacer.</p>
            <div class="modal-footer">
                <button id="confirmDelete" class="btn red" onclick="confirmDeleteRequest()">Eliminar</button>
                <button id="cancelDelete" class="btn" onclick="closeDeleteModal()">Cancelar</button>
            </div>
        </div>
        
    </div>

    <header>
        <div class="div-header-content">
            <div class="div-logo-title">
                <img class="img-logo-uv" src="../img/uvicon.png" alt="Logo UV">
                <h1 class="title-header">Panel de Administración de Solicitudes</h1>
            </div>
            <div class="div-btn-back">
                <button onclick="logout()" class="btn-back">
                    <img class="btn-icon-back" src="/img/image-form/flecha-regresar.ico">
                </button>
            </div>
        </div>
    </header>

    <main>
        <!-- Contenedor para estadísticas -->
        <section class="statistics">
            <h2>Estadísticas Generales</h2>
            <div id="stats-container"></div>
        </section>

        <!-- Filtros para la tabla de solicitudes -->
        <section class="filters">
            <h2 class="title-filters">Filtros</h2>
            <div class="filter-options">
                <div class="left-section">
                    <h3 id="id=title-tipo" class="subtitles">Propiedades</h3>

                    <label id="labelTipoUsuario" for="filtroTipoUsuario">Tipo de Usuario:</label>
                    <select id="filtroTipoUsuario">
                        <option value="">Todos</option>
                        <option value="profesor">Profesor</option>
                        <option value="estudiante">Estudiante</option>
                    </select>
                    
                    <label for="filtroEstado">Estado:</label>
                    <select id="filtroEstado">
                        <option value="">Todos</option>
                        <option value="Pendiente">Pendiente</option>
                        <option value="Aprobada">Aprobada</option>
                        <option value="Rechazada">Rechazada</option>
                    </select>
                    
                    <label for="filtroFechaInicio">Fecha de Inicio:</label>
                    <input type="date" id="filtroFechaInicio">
                    
                    <button class="btnFiltrar btn-general" onclick="filtrar()">Filtrar</button>
                </div>
                <div class="right-section">
                    <h3 id="title-tipo" class="subtitles">Tipo</h3>
                    <button class="btn-solicitudes btn-general" onclick="listarSolicitudes()">Mostrar Solicitudes</button>
                    <button class="btn-prestamos btn-general" onclick="listarPrestamos()">Mostrar Préstamos</button>
                </div>
            </div>
        </section>

        <!-- Tabla de solicitudes de préstamo -->
        <section class="request-list">
            <h2 id="table-title">Lista de Solicitudes</h2>
            <table>
                <thead>
                    <tr id="table-header">
                    </tr>
                </thead>
                <tbody id="request-table-body">
                </tbody>
            </table>
            <!-- Contenedor dinámico para el botón de historial -->
            <div id="historial-button-container"></div>
        </section>
    </main>

    <footer>
        <div class="footer-Uv">
            <p class="copy-uv">&copy; 2024 Universidad Veracruzana</p>
        </div>
    </footer>

    <script src="/../js/admin-view.js"></script>
</body>
</html>
